const converter=new showdown.Converter;class ArticleFiller{constructor(){this.articleData,this.articleMd,this.article}retrieveArticleData(){const e=new XMLHttpRequest;e.responseType="json",e.onreadystatechange=()=>{e.readyState===XMLHttpRequest.DONE&&200===e.status&&(articleFiller.articleData=e.response,articleFiller.callArticle())},e.open("GET","https://raw.githubusercontent.com/ASully/Small-Dev-Talk/master/src/articleArchive/articleData.json"),e.send()}callArticle(){let e=document.URL.split("?");if(2===e.length){var t=e[1].split("&");1===t.length?(articleFiller.grabArticle(t[0]),document.getElementById("featuredArticles").setAttribute("hidden",!0),document.getElementById("displayArticles").setAttribute("hidden",!0),document.getElementById("articleBody").removeAttribute("hidden")):changeFeaturedArticles.callDisplay()}else changeFeaturedArticles.callDisplay()}grabArticle(e){var t=e.split(" ");e="";for(var a=0;a<t.length;a++){e+=t[a][0].toUpperCase()+t[a].substr(1,t[a].length)}if(null!=articleFiller.articleData[e]){var l=articleFiller.articleData[e].title;document.getElementById("pageTitle").innerText="Small Dev Talk: "+l;var r="author"+articleFiller.articleData[e].author.split(" ").join(""),i=articleFiller.articleData[e].date+"_"+e;const t=new XMLHttpRequest,a="https://raw.githubusercontent.com/ASully/Small-Dev-Talk/master/src/articleArchive/"+r+"/"+i+"/"+e+".md";t.responseType="text",t.onreadystatechange=()=>{t.readyState===XMLHttpRequest.DONE&&200===t.status&&(articleFiller.articleMd=t.response,articleFiller.addToPage())},t.open("GET",a),t.send()}else articleFiller.articleMd="Error retrieving article",articleFiller.addToPage()}addToPage(){articleFiller.article=converter.makeHtml(articleFiller.articleMd),document.getElementById("articleBody").innerHTML=articleFiller.article}}const articleFiller=new ArticleFiller;class ChangeFeaturedArticles{constructor(){this.pageData,this.pageURL,this.callPageDisplay=!0,this.whatPageDisplay="index"}retrievePageData(){const e=new XMLHttpRequest;e.responseType="json",e.onreadystatechange=()=>{e.readyState===XMLHttpRequest.DONE&&200===e.status&&(changeFeaturedArticles.pageData=e.response)},e.open("GET","https://raw.githubusercontent.com/ASully/Small-Dev-Talk/master/src/legacyPages/legacyPagesDisplay.json"),e.send()}callDisplay(){var e;let t=document.URL.split("?");t.length>1?(e=t[1].split("&"),changeFeaturedArticles.whatPageDisplay=e[1]):(e=[],changeFeaturedArticles.whatPageDisplay="index"),changeFeaturedArticles.pageURL=e,1===changeFeaturedArticles.pageURL.length?changeFeaturedArticles.callPageDisplay=!1:(changeFeaturedArticles.callPageDisplay=!0,"archive"===changeFeaturedArticles.whatPageDisplay?changeFeaturedArticles.displayArchive():changeFeaturedArticles.changeCarousel())}displayArchive(){document.getElementById("featuredArticles").setAttribute("hidden",!0),document.getElementById("articleBody").removeAttribute("hidden");let e="",t=articleFiller.articleData;for(const[a,l]of Object.entries(t))if(l.title&&l.author&&l.date&&l.thumbnail){e.trim().length<1&&(e+='<div class="container-fluid">',e+='<div class="row">'),e+='<div class="col-sm archive-display">',e+=`<a class="archive-link" href="${document.location.origin}/index.html?${a}">`,e+=`<p class="archive-title">${l.title}</p>`,e+=`<img src=${`src/articleArchive/author${l.author.split(" ").join("")}/${l.date}_${a}/${l.thumbnail}`}>`,e+="</a>",e+="</div>"}e.trim().length>0&&(e+="</div>",e+="</div>",document.getElementById("displayArticles").innerHTML+=e)}changeCarousel(){var e=changeFeaturedArticles.whatPageDisplay[0].toUpperCase()+changeFeaturedArticles.whatPageDisplay.substr(1,changeFeaturedArticles.whatPageDisplay.length);if(document.getElementById("pageTitle").innerText="Small Dev Talk: "+e,changeFeaturedArticles&&changeFeaturedArticles.pageData&&changeFeaturedArticles.pageData[changeFeaturedArticles.whatPageDisplay]&&changeFeaturedArticles.pageData[changeFeaturedArticles.whatPageDisplay].carousel){let e=changeFeaturedArticles.pageData[changeFeaturedArticles.whatPageDisplay].carousel;document.getElementById("carouselIndicator").innerHTML="",document.getElementById("carouselInner").innerHTML="";for(var t=0;t<e.length;t++){var a="author"+articleFiller.articleData[e[t]].author.split(" ").join(""),l=articleFiller.articleData[e[t]].date+"_"+e[t],r=articleFiller.articleData[e[t]].thumbnail,i=articleFiller.articleData[e[t]].title,c=articleFiller.articleData[e[t]].summary,s="https://raw.githubusercontent.com/ASully/Small-Dev-Talk/master/src/articleArchive/"+a+"/"+l+"/"+r,n="";n+='<li data-target="#carouselExampleIndicators" data-slide-to="'+t+'"',0===t&&(n+=' class="active"'),n+="></li>",document.getElementById("carouselIndicator").innerHTML+=n,n="",n+='<div class="carousel-item',0===t&&(n+=" active"),n+='">',n+='<a id="carouselLink'+t+'" href="index.html?'+e[t]+'">',n+='<img id="carouselImage'+t+'"src="'+s+'" class="d-block w-100" style="width:100%; height: 400px !important;" loading="lazy">',n+='<div class="carousel-caption d-none d-md-block" style="text-shadow: 0 0 3px #000000;">',n+='<h5 id="carouselHeader'+t+'">'+i+"</h5>",n+='<p id="carouselParagraph'+t+'">'+c+"</p>",n+="</div>",n+="</a>",n+="</div>",document.getElementById("carouselInner").innerHTML+=n}}changeFeaturedArticles.changeFeaturedArticles()}changeFeaturedArticles(){if(changeFeaturedArticles&&changeFeaturedArticles.pageData&&changeFeaturedArticles.pageData[changeFeaturedArticles.whatPageDisplay]&&changeFeaturedArticles.pageData[changeFeaturedArticles.whatPageDisplay].displayArticles){let n=changeFeaturedArticles.pageData[changeFeaturedArticles.whatPageDisplay].displayArticles;document.getElementById("displayArticles").innerHTML="";for(let d in n){var e="author"+articleFiller.articleData[n[d]].author.split(" ").join(""),t=articleFiller.articleData[n[d]].date+"_"+n[d],a=articleFiller.articleData[n[d]].thumbnail,l=articleFiller.articleData[n[d]].title,r=articleFiller.articleData[n[d]].summary,i=articleFiller.articleData[n[d]].date,c="https://raw.githubusercontent.com/ASully/Small-Dev-Talk/master/src/articleArchive/"+e+"/"+t+"/"+a,s="";s+='<div class="post" id="featuredArticle'+d+'">',s+='<div class="l">',s+='<a href="index.html?'+n[d]+'">',s+='<img src="'+c+'" width="134" loading="lazy">',s+="</a>",s+="</div>",s+='<div class="r">',s+="<h2>",s+='<a href="index.html?'+n[d]+'">'+l+"</a>",s+="</h2>",s+="<p>"+r,s+='<a href="index.html?'+n[d]+'"> Read More</a>',s+="</p>",s+='<p class="details"><a href="index.html?'+n[d]+'">'+i+"</a></p>",s+="</div>",s+="</div>",document.getElementById("displayArticles").innerHTML+=s}}}}const changeFeaturedArticles=new ChangeFeaturedArticles;function init(){changeFeaturedArticles.retrievePageData(),articleFiller.retrieveArticleData()}init();
