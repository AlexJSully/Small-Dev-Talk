const converter=new showdown.Converter;class ArticleFiller{constructor(){this.articleData,this.articleMd,this.article}static retrieveArticleData(){const t=new XMLHttpRequest;t.responseType="json",t.onreadystatechange=()=>{t.readyState===XMLHttpRequest.DONE&&200===t.status&&(ArticleFiller.articleData=t.response,ArticleFiller.callArticle())},t.open("GET","https://raw.githubusercontent.com/AlexJSully/Small-Dev-Talk/master/src/articleArchive/articleData.json"),t.send()}static callArticle(){const t=document.URL.split("?");if(2===t.length){const e=t[1].split("&");1===e.length?(ArticleFiller.grabArticle(e[0]),document.getElementById("featuredArticles")&&document.getElementById("featuredArticles").setAttribute("hidden",!0),document.getElementById("displayArticles")&&document.getElementById("displayArticles").setAttribute("hidden",!0),document.getElementById("articleBody")&&document.getElementById("articleBody").removeAttribute("hidden")):ChangeFeaturedArticles.callDisplay()}else ChangeFeaturedArticles.callDisplay()}static grabArticle(t){const e=t.split(" ");t="";for(const a of e){t+=a[0].toUpperCase()+a.substring(1,a.length)}if(ArticleFiller.articleData[t]){this.updateMetaData(ArticleFiller.articleData[t],t);const e=`author${ArticleFiller.articleData[t].author.split(" ").join("")}`,a=`${ArticleFiller.articleData[t].date}_${t}`,l=new XMLHttpRequest,r=`https://raw.githubusercontent.com/AlexJSully/Small-Dev-Talk/master/src/articleArchive/${e}/${a}/${t}.md`;l.responseType="text",l.onreadystatechange=()=>{l.readyState===XMLHttpRequest.DONE&&200===l.status&&(ArticleFiller.articleMd=l.response,ArticleFiller.addToPage())},l.open("GET",r),l.send()}else ArticleFiller.articleMd="Error retrieving article",ArticleFiller.addToPage()}static updateMetaData(t,e){if(Object.keys(t)?.length>0){let a=document?.querySelector("script[type='application/ld+json']")?.textContent;if(a=a?JSON.parse(a):void 0,t?.title){const e=`${t.title} | Small Dev Talk`;document.title=e,document.querySelector("meta[property='og:title']").setAttribute("content",e),document.querySelector("meta[property='twitter:title']").setAttribute("content",e),a?.name&&(a.name=e)}if(t?.summary){const e=`${t.summary} | Small Dev Talk`;document.querySelector("meta[name='description']").setAttribute("content",e),document.querySelector("meta[property='og:description']").setAttribute("content",e),document.querySelector("meta[property='twitter:description']").setAttribute("content",e),a?.description&&(a.description=e)}if(t?.thumbnail&&t?.author&&t?.date&&e){const l=`https://smalldevtalk.net/src/articleArchive/author${t.author.split(" ").join("")}/${t.date}_${e}/${t.thumbnail}`;document.querySelector("meta[property='og:image']").setAttribute("content",l),document.querySelector("meta[property='twitter:image']").setAttribute("content",l),a?.image&&(a.image=l)}a&&(document.querySelector("script[type='application/ld+json']").textContent=JSON.stringify(a))}}static addToPage(){ArticleFiller.article=converter.makeHtml(ArticleFiller.articleMd),document.getElementById("articleBody")&&(document.getElementById("articleBody").innerHTML=ArticleFiller.article)}}class ChangeFeaturedArticles{constructor(){this.pageData,this.pageURL,this.callPageDisplay=!0,this.whatPageDisplay="index"}static retrievePageData(){const t=new XMLHttpRequest;t.responseType="json",t.onreadystatechange=()=>{t.readyState===XMLHttpRequest.DONE&&200===t.status&&(ChangeFeaturedArticles.pageData=t.response)},t.open("GET","https://raw.githubusercontent.com/AlexJSully/Small-Dev-Talk/master/src/legacyPages/legacyPagesDisplay.json"),t.send()}static callDisplay(){let t=[];const e=document.URL.split("?");e.length>1?(t=e[1].split("&"),ChangeFeaturedArticles.whatPageDisplay=t[1]):(t=[],ChangeFeaturedArticles.whatPageDisplay="index"),ChangeFeaturedArticles.pageURL=t,1===ChangeFeaturedArticles.pageURL.length?ChangeFeaturedArticles.callPageDisplay=!1:(ChangeFeaturedArticles.callPageDisplay=!0,"archive"===ChangeFeaturedArticles.whatPageDisplay?ChangeFeaturedArticles.displayArchive():ChangeFeaturedArticles.changeCarousel())}static displayArchive(){document.getElementById("featuredArticles")&&document.getElementById("featuredArticles").setAttribute("hidden",!0),document.getElementById("articleBody")&&document.getElementById("articleBody").removeAttribute("hidden");let t="";const e=ArticleFiller.articleData;for(const[a,l]of Object.entries(e))if(l.title&&l.author&&l.date&&l.thumbnail){t.trim().length<1&&(t+='\n\t\t\t\t\t\t<div class="container-fluid">\n\t\t\t\t\t\t<div class="row">\n\t\t\t\t\t');const e=`src/articleArchive/author${l.author.split(" ").join("")}/${l.date}_${a}/${l.thumbnail}`;t+=`\n\t\t\t\t\t<div class="col-sm archive-display">\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclass="archive-link"\n\t\t\t\t\t\t\thref="${document.location.origin}/index.html?${a}"\n\t\t\t\t\t\t\taria-label="Redirect to ${l.title}"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p class="archive-title">${l.title}</p>\n\t\t\t\t\t\t\t<img src=${e} alt="${l.title}'s thumbnail" loading="lazy">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t`}t.trim().length>0&&(t+="</div></div>",document.getElementById("displayArticles").innerHTML+=t)}static changeCarousel(){const t=ChangeFeaturedArticles.whatPageDisplay[0].toUpperCase()+ChangeFeaturedArticles.whatPageDisplay.substring(1,ChangeFeaturedArticles.whatPageDisplay.length);if(document.getElementById("pageTitle").innerText=`Small Dev Talk: ${t}`,ChangeFeaturedArticles&&ChangeFeaturedArticles.pageData&&ChangeFeaturedArticles.pageData[ChangeFeaturedArticles.whatPageDisplay]&&ChangeFeaturedArticles.pageData[ChangeFeaturedArticles.whatPageDisplay].carousel){const t=ChangeFeaturedArticles.pageData[ChangeFeaturedArticles.whatPageDisplay].carousel;document.getElementById("carouselIndicator").innerHTML="",document.getElementById("carouselInner").innerHTML="";for(let e=0;e<t.length;e++){const a=`author${ArticleFiller.articleData[t[e]].author.split(" ").join("")}`,l=`${ArticleFiller.articleData[t[e]].date}_${t[e]}`,r=ArticleFiller.articleData[t[e]].thumbnail,i=ArticleFiller.articleData[t[e]].title,n=ArticleFiller.articleData[t[e]].summary,c=`https://raw.githubusercontent.com/AlexJSully/Small-Dev-Talk/master/src/articleArchive/${a}/${l}/${r}`;let s=`\n\t\t\t\t\t<li data-target="#carouselExampleIndicators" data-slide-to="${e}" ${0===e?'class="active"':""}></li>\n\t\t\t\t`;document.getElementById("carouselIndicator").innerHTML+=s,s=`\n\t\t\t\t\t<div class="carousel-item ${0===e?"active":""}>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tid="carouselLink${e}"\n\t\t\t\t\t\t\thref="index.html?${t[e]}"\n\t\t\t\t\t\t\taria-label="Redirect to ${i}"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tid="carouselImage${e}"\n\t\t\t\t\t\t\t\tsrc="${c}"\n\t\t\t\t\t\t\t\tclass="d-block w-100"\n\t\t\t\t\t\t\t\tstyle="width:100%; height: 400px !important;"\n\t\t\t\t\t\t\t\tloading="lazy"\n\t\t\t\t\t\t\t\talt="Carousel image for ${i}"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass="carousel-caption d-none d-md-block"\n\t\t\t\t\t\t\t\tstyle="text-shadow: 0 0 3px #000000;"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<h5 id="carouselHeader${e}">${i}</h5>\n\t\t\t\t\t\t\t\t<p id="carouselParagraph${e}">${n}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t`,document.getElementById("carouselInner").innerHTML+=s}}ChangeFeaturedArticles.ChangeFeaturedArticles()}static ChangeFeaturedArticles(){if(ChangeFeaturedArticles&&ChangeFeaturedArticles.pageData&&ChangeFeaturedArticles.pageData[ChangeFeaturedArticles.whatPageDisplay]&&ChangeFeaturedArticles.pageData[ChangeFeaturedArticles.whatPageDisplay].displayArticles){const t=ChangeFeaturedArticles.pageData[ChangeFeaturedArticles.whatPageDisplay].displayArticles;if(document.getElementById("displayArticles").innerHTML="",t&&t.length>0)for(const e in t)if(ArticleFiller.articleData[t[e]]){const a=`author${ArticleFiller.articleData[t[e]].author.split(" ").join("")}`,l=`${ArticleFiller.articleData[t[e]].date}_${t[e]}`,r=ArticleFiller.articleData[t[e]].thumbnail,i=ArticleFiller.articleData[t[e]].title,n=ArticleFiller.articleData[t[e]].summary,c=ArticleFiller.articleData[t[e]].date,s=`https://raw.githubusercontent.com/AlexJSully/Small-Dev-Talk/master/src/articleArchive/${a}/${l}/${r}`,d=`\n\t\t\t\t\t\t\t<div class="post" id="featuredArticle${e}">\n\t\t\t\t\t\t\t\t<div class="l">\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref="index.html?${t[e]}"\n\t\t\t\t\t\t\t\t\t\taria-label="Redirect to ${i}"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc="${s}"\n\t\t\t\t\t\t\t\t\t\t\twidth="134"\n\t\t\t\t\t\t\t\t\t\t\tloading="lazy"\n\t\t\t\t\t\t\t\t\t\t\talt="Thumbnail for ${i}"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="r">\n\t\t\t\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref="index.html?${t[e]}"\n\t\t\t\t\t\t\t\t\t\t\taria-label="Redirect to ${i}"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t${i}\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t${n}\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref="index.html?${t[e]}"\n\t\t\t\t\t\t\t\t\t\t\taria-label="Read more of ${i}"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tRead More\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p class="details">\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref="index.html?${t[e]}"\n\t\t\t\t\t\t\t\t\t\t\taria-label="Redirect to ${i}"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t${c}\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`;document.getElementById("displayArticles").innerHTML+=d}}}}function init(){ChangeFeaturedArticles.retrievePageData(),ArticleFiller.retrieveArticleData()}init();