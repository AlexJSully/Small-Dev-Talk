const converter=new showdown.Converter;class ArticleFiller{constructor(){this.articleData,this.articleMd,this.article,this.pageData,this.pageURL,this.callPageDisplay=!0,this.whatPageDisplay="index"}static retrieveArticleData(){const t=new XMLHttpRequest;t.responseType="json",t.onreadystatechange=()=>{t.readyState===XMLHttpRequest.DONE&&200===t.status&&(ArticleFiller.articleData=t.response,ArticleFiller.callArticle())},t.open("GET","https://raw.githubusercontent.com/AlexJSully/Small-Dev-Talk/master/src/articleArchive/articleData.json"),t.send()}static callArticle(){const t=document.URL.split("?");if(2===t.length){const e=t[1].split("&");1===e.length?(ArticleFiller.grabArticle(e[0]),document.getElementById("featuredArticles")&&document.getElementById("featuredArticles").setAttribute("hidden",!0),document.getElementById("displayArticles")&&document.getElementById("displayArticles").setAttribute("hidden",!0),document.getElementById("articleBody")&&document.getElementById("articleBody").removeAttribute("hidden")):ArticleFiller.callDisplay()}else ArticleFiller.callDisplay()}static grabArticle(t){const e=t.split(" ");t="";for(const l of e){t+=l[0].toUpperCase()+l.substring(1,l.length)}if(ArticleFiller.articleData[t]){this.updateMetaData(ArticleFiller.articleData[t],t);const e=`author${ArticleFiller.articleData[t].author.split(" ").join("")}`,l=`${ArticleFiller.articleData[t].date}_${t}`,a=new XMLHttpRequest,i=`https://raw.githubusercontent.com/AlexJSully/Small-Dev-Talk/master/src/articleArchive/${e}/${l}/${t}.md`;a.responseType="text",a.onreadystatechange=()=>{a.readyState===XMLHttpRequest.DONE&&200===a.status&&(ArticleFiller.articleMd=a.response,ArticleFiller.addToPage())},a.open("GET",i),a.send()}else ArticleFiller.articleMd="Error retrieving article",ArticleFiller.addToPage()}static updateMetaData(t,e){if(Object.keys(t)?.length>0){let l=document?.querySelector("script[type='application/ld+json']")?.textContent;if(l=l?JSON.parse(l):void 0,t?.title){const e=`${t.title} | Small Dev Talk`;document.title=e,document.querySelector("meta[property='og:title']").setAttribute("content",e),document.querySelector("meta[property='twitter:title']").setAttribute("content",e),l?.name&&(l.name=e)}if(t?.summary){const e=`${t.summary} | Small Dev Talk`;document.querySelector("meta[name='description']").setAttribute("content",e),document.querySelector("meta[property='og:description']").setAttribute("content",e),document.querySelector("meta[property='twitter:description']").setAttribute("content",e),l?.description&&(l.description=e)}if(t?.thumbnail&&t?.author&&t?.date&&e){const a=`https://smalldevtalk.net/src/articleArchive/author${t.author.split(" ").join("")}/${t.date}_${e}/${t.thumbnail}`;document.querySelector("meta[property='og:image']").setAttribute("content",a),document.querySelector("meta[property='twitter:image']").setAttribute("content",a),l?.image&&(l.image=a)}l&&(document.querySelector("script[type='application/ld+json']").textContent=JSON.stringify(l))}}static addToPage(){ArticleFiller.article=converter.makeHtml(ArticleFiller.articleMd),document.getElementById("articleBody")&&(document.getElementById("articleBody").innerHTML=ArticleFiller.article)}static retrievePageData(){const t=new XMLHttpRequest;t.responseType="json",t.onreadystatechange=()=>{t.readyState===XMLHttpRequest.DONE&&200===t.status&&(ArticleFiller.pageData=t.response)},t.open("GET","https://raw.githubusercontent.com/AlexJSully/Small-Dev-Talk/master/src/legacyPages/legacyPagesDisplay.json"),t.send()}static callDisplay(){let t=[];const e=document.URL.split("?");e.length>1?(t=e[1].split("&"),ArticleFiller.whatPageDisplay=t[1]):(t=[],ArticleFiller.whatPageDisplay="index"),ArticleFiller.pageURL=t,1===ArticleFiller.pageURL.length?ArticleFiller.callPageDisplay=!1:(ArticleFiller.callPageDisplay=!0,"archive"===ArticleFiller.whatPageDisplay?ArticleFiller.displayArchive():ArticleFiller.changeCarousel())}static displayArchive(){document.getElementById("featuredArticles")&&document.getElementById("featuredArticles").setAttribute("hidden",!0),document.getElementById("articleBody")&&document.getElementById("articleBody").removeAttribute("hidden");let t="";const{articleData:e}=ArticleFiller;for(const[l,a]of Object.entries(e))if(a.title&&a.author&&a.date&&a.thumbnail){t.trim().length<1&&(t+='\n\t\t\t\t\t\t<div class="container-fluid">\n\t\t\t\t\t\t<div class="row">\n\t\t\t\t\t');const e=`src/articleArchive/author${a.author.split(" ").join("")}/${a.date}_${l}/${a.thumbnail}`;t+=`\n\t\t\t\t\t<div class="col-sm archive-display">\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclass="archive-link"\n\t\t\t\t\t\t\thref="${document.location.origin}/index.html?${l}"\n\t\t\t\t\t\t\taria-label="Redirect to ${a.title}"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p class="archive-title">${a.title}</p>\n\t\t\t\t\t\t\t<img src=${e} alt="${a.title}'s thumbnail" loading="lazy">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t`}t.trim().length>0&&(t+="</div></div>",document.getElementById("displayArticles").innerHTML+=t)}static changeCarousel(){const t=ArticleFiller.whatPageDisplay[0].toUpperCase()+ArticleFiller.whatPageDisplay.substring(1,ArticleFiller.whatPageDisplay.length);if(document.getElementById("pageTitle")&&(document.getElementById("pageTitle").innerText=`Small Dev Talk: ${t}`),console.log(document.getElementById("carouselInner")),ArticleFiller&&ArticleFiller.pageData&&ArticleFiller.pageData[ArticleFiller.whatPageDisplay]&&ArticleFiller.pageData[ArticleFiller.whatPageDisplay].carousel&&document.getElementById("carouselInner")){const t=ArticleFiller.pageData[ArticleFiller.whatPageDisplay].carousel;document.getElementById("carouselIndicator")&&(document.getElementById("carouselIndicator").innerHTML=""),document.getElementById("carouselInner").innerHTML="";for(let e=0;e<t.length;e+=1){const l=`author${ArticleFiller.articleData[t[e]].author.split(" ").join("")}`,a=`${ArticleFiller.articleData[t[e]].date}_${t[e]}`,i=ArticleFiller.articleData[t[e]].thumbnail,r=ArticleFiller.articleData[t[e]].title,n=ArticleFiller.articleData[t[e]].summary,c=`https://raw.githubusercontent.com/AlexJSully/Small-Dev-Talk/master/src/articleArchive/${l}/${a}/${i}`;let s=`\n\t\t\t\t\t<li\n\t\t\t\t\t\tdata-target="#carouselExampleIndicators"\n\t\t\t\t\t\tdata-slide-to="${e}"\n\t\t\t\t\t\t${0===e?'class="active"':""}\n\t\t\t\t\t></li>\n\t\t\t\t`;document.getElementById("carouselIndicator")&&(document.getElementById("carouselIndicator").innerHTML+=s),s=`\n\t\t\t\t\t<div class="carousel-item ${0===e?"active":""}">\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tid="carouselLink${e}"\n\t\t\t\t\t\t\thref="index.html?${t[e]}"\n\t\t\t\t\t\t\taria-label="Redirect to ${r}"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tid="carouselImage${e}"\n\t\t\t\t\t\t\t\tsrc="${c}"\n\t\t\t\t\t\t\t\tclass="d-block w-100"\n\t\t\t\t\t\t\t\tstyle="width:100%; height: 400px !important;"\n\t\t\t\t\t\t\t\tloading="lazy"\n\t\t\t\t\t\t\t\talt="Carousel image for ${r}"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass="carousel-caption d-none d-md-block"\n\t\t\t\t\t\t\t\tstyle="text-shadow: 0 0 3px #000000;"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<h5 id="carouselHeader${e}">${r}</h5>\n\t\t\t\t\t\t\t\t<p id="carouselParagraph${e}">${n}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t`,document.getElementById("carouselInner").innerHTML+=s}}ArticleFiller.ArticleFiller()}static ArticleFiller(){if(ArticleFiller&&ArticleFiller.pageData&&ArticleFiller.pageData[ArticleFiller.whatPageDisplay]&&ArticleFiller.pageData[ArticleFiller.whatPageDisplay].displayArticles){const t=ArticleFiller.pageData[ArticleFiller.whatPageDisplay].displayArticles;if(document.getElementById("displayArticles").innerHTML="",t&&t.length>0)for(const e in t)if(ArticleFiller.articleData[t[e]]){const l=`author${ArticleFiller.articleData[t[e]].author.split(" ").join("")}`,a=`${ArticleFiller.articleData[t[e]].date}_${t[e]}`,i=ArticleFiller.articleData[t[e]].thumbnail,r=ArticleFiller.articleData[t[e]].title,n=ArticleFiller.articleData[t[e]].summary,c=ArticleFiller.articleData[t[e]].date,s=`https://raw.githubusercontent.com/AlexJSully/Small-Dev-Talk/master/src/articleArchive/${l}/${a}/${i}`,o=`\n\t\t\t\t\t\t\t<div class="post" id="featuredArticle${e}">\n\t\t\t\t\t\t\t\t<div class="l">\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref="index.html?${t[e]}"\n\t\t\t\t\t\t\t\t\t\taria-label="Redirect to ${r}"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc="${s}"\n\t\t\t\t\t\t\t\t\t\t\twidth="134"\n\t\t\t\t\t\t\t\t\t\t\tloading="lazy"\n\t\t\t\t\t\t\t\t\t\t\talt="Thumbnail for ${r}"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="r">\n\t\t\t\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref="index.html?${t[e]}"\n\t\t\t\t\t\t\t\t\t\t\taria-label="Redirect to ${r}"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t${r}\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t${n}\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref="index.html?${t[e]}"\n\t\t\t\t\t\t\t\t\t\t\taria-label="Read more of ${r}"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tRead More\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p class="details">\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref="index.html?${t[e]}"\n\t\t\t\t\t\t\t\t\t\t\taria-label="Redirect to ${r}"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t${c}\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`;document.getElementById("displayArticles").innerHTML+=o}}}}function init(){ArticleFiller.retrievePageData(),ArticleFiller.retrieveArticleData()}function changeCarouselSlide(t){const e=document.getElementsByClassName("carousel-item");for(let l=0;l<e.length;l+=1)if(e[l].className.includes("active")){e[l].classList.remove("active"),"next"===t?e[l+1]?e[l+1].className+=" active":e[0].className+=" active":"prev"===t&&(e[l-1]?e[l-1].className+=" active":e[e.length-1].className+=" active");break}}window.onload=init;