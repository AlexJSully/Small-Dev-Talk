const t=new showdown.Converter;const e=new class{constructor(){this.articleData,this.articleMd,this.article}retrieveArticleData(){const t=new XMLHttpRequest;t.responseType="json",t.onreadystatechange=()=>{t.readyState===XMLHttpRequest.DONE&&200===t.status&&(e.articleData=t.response,e.callArticle())},t.open("GET","https://raw.githubusercontent.com/ASully/Small-Dev-Talk/master/src/articleArchive/articleData.json"),t.send()}callArticle(){const t=document.URL.split("?");if(2===t.length){const l=t[1].split("&");1===l.length?(e.grabArticle(l[0]),document.getElementById("featuredArticles").setAttribute("hidden",!0),document.getElementById("displayArticles").setAttribute("hidden",!0),document.getElementById("articleBody").removeAttribute("hidden")):a.callDisplay()}else a.callDisplay()}grabArticle(t){const a=t.split(" ");t="";for(let e=0;e<a.length;e++){t+=a[e][0].toUpperCase()+a[e].substr(1,a[e].length)}if(null!=e.articleData[t]){this.updateMetaData(e.articleData[t],t);const a="author"+e.articleData[t].author.split(" ").join(""),l=e.articleData[t].date+"_"+t,i=new XMLHttpRequest,r="https://raw.githubusercontent.com/ASully/Small-Dev-Talk/master/src/articleArchive/"+a+"/"+l+"/"+t+".md";i.responseType="text",i.onreadystatechange=()=>{i.readyState===XMLHttpRequest.DONE&&200===i.status&&(e.articleMd=i.response,e.addToPage())},i.open("GET",r),i.send()}else e.articleMd="Error retrieving article",e.addToPage()}updateMetaData(t,e){if(Object.keys(t)?.length>0){let a=document?.querySelector("script[type='application/ld+json']")?.textContent;if(a=a?JSON.parse(a):void 0,t?.title){let e=`${t.title} | Small Dev Talk`;document.title=e,document.querySelector("meta[property='og:title']").setAttribute("content",e),document.querySelector("meta[property='twitter:title']").setAttribute("content",e),a?.name&&(a.name=e)}if(t?.summary){let e=`${t.summary} | Small Dev Talk`;document.querySelector("meta[name='description']").setAttribute("content",e),document.querySelector("meta[property='og:description']").setAttribute("content",e),document.querySelector("meta[property='twitter:description']").setAttribute("content",e),a?.description&&(a.description=e)}if(t?.thumbnail&&t?.author&&t?.date&&e){const l=`src/articleArchive/author${t.author.split(" ").join("")}/${t.date}_${e}/${t.thumbnail}`;document.querySelector("meta[property='og:image']").setAttribute("content",l),document.querySelector("meta[property='twitter:image']").setAttribute("content",l),a?.image&&(a.image=l)}a&&(document.querySelector("script[type='application/ld+json']").textContent=JSON.stringify(a))}}addToPage(){e.article=t.makeHtml(e.articleMd),document.getElementById("articleBody").innerHTML=e.article}};const a=new class{constructor(){this.pageData,this.pageURL,this.callPageDisplay=!0,this.whatPageDisplay="index"}retrievePageData(){const t=new XMLHttpRequest;t.responseType="json",t.onreadystatechange=()=>{t.readyState===XMLHttpRequest.DONE&&200===t.status&&(a.pageData=t.response)},t.open("GET","https://raw.githubusercontent.com/ASully/Small-Dev-Talk/master/src/legacyPages/legacyPagesDisplay.json"),t.send()}callDisplay(){let t;const e=document.URL.split("?");e.length>1?(t=e[1].split("&"),a.whatPageDisplay=t[1]):(t=[],a.whatPageDisplay="index"),a.pageURL=t,1===a.pageURL.length?a.callPageDisplay=!1:(a.callPageDisplay=!0,"archive"===a.whatPageDisplay?a.displayArchive():a.changeCarousel())}displayArchive(){document.getElementById("featuredArticles").setAttribute("hidden",!0),document.getElementById("articleBody").removeAttribute("hidden");let t="";const a=e.articleData;for(const[e,l]of Object.entries(a))if(l.title&&l.author&&l.date&&l.thumbnail){t.trim().length<1&&(t+='<div class="container-fluid">',t+='<div class="row">'),t+='<div class="col-sm archive-display">',t+=`<a class="archive-link" href="${document.location.origin}/index.html?${e}">`,t+=`<p class="archive-title">${l.title}</p>`;t+=`<img src=${`src/articleArchive/author${l.author.split(" ").join("")}/${l.date}_${e}/${l.thumbnail}`}>`,t+="</a>",t+="</div>"}t.trim().length>0&&(t+="</div>",t+="</div>",document.getElementById("displayArticles").innerHTML+=t)}changeCarousel(){const t=a.whatPageDisplay[0].toUpperCase()+a.whatPageDisplay.substr(1,a.whatPageDisplay.length);if(document.getElementById("pageTitle").innerText="Small Dev Talk: "+t,a&&a.pageData&&a.pageData[a.whatPageDisplay]&&a.pageData[a.whatPageDisplay].carousel){const t=a.pageData[a.whatPageDisplay].carousel;document.getElementById("carouselIndicator").innerHTML="",document.getElementById("carouselInner").innerHTML="";for(let a=0;a<t.length;a++){const l="author"+e.articleData[t[a]].author.split(" ").join(""),i=e.articleData[t[a]].date+"_"+t[a],r=e.articleData[t[a]].thumbnail,s=e.articleData[t[a]].title,c=e.articleData[t[a]].summary,n="https://raw.githubusercontent.com/ASully/Small-Dev-Talk/master/src/articleArchive/"+l+"/"+i+"/"+r;let o="";o+='<li data-target="#carouselExampleIndicators" data-slide-to="'+a+'"',0===a&&(o+=' class="active"'),o+="></li>",document.getElementById("carouselIndicator").innerHTML+=o,o="",o+='<div class="carousel-item',0===a&&(o+=" active"),o+='">',o+='<a id="carouselLink'+a+'" href="index.html?'+t[a]+'">',o+='<img id="carouselImage'+a+'"src="'+n+'" class="d-block w-100" style="width:100%; height: 400px !important;" loading="lazy">',o+='<div class="carousel-caption d-none d-md-block" style="text-shadow: 0 0 3px #000000;">',o+='<h5 id="carouselHeader'+a+'">'+s+"</h5>",o+='<p id="carouselParagraph'+a+'">'+c+"</p>",o+="</div>",o+="</a>",o+="</div>",document.getElementById("carouselInner").innerHTML+=o}}a.changeFeaturedArticles()}changeFeaturedArticles(){if(a&&a.pageData&&a.pageData[a.whatPageDisplay]&&a.pageData[a.whatPageDisplay].displayArticles){const t=a.pageData[a.whatPageDisplay].displayArticles;document.getElementById("displayArticles").innerHTML="";for(const a in t){const l="author"+e.articleData[t[a]].author.split(" ").join(""),i=e.articleData[t[a]].date+"_"+t[a],r=e.articleData[t[a]].thumbnail,s=e.articleData[t[a]].title,c=e.articleData[t[a]].summary,n=e.articleData[t[a]].date,o="https://raw.githubusercontent.com/ASully/Small-Dev-Talk/master/src/articleArchive/"+l+"/"+i+"/"+r;let d="";d+='<div class="post" id="featuredArticle'+a+'">',d+='<div class="l">',d+='<a href="index.html?'+t[a]+'">',d+='<img src="'+o+'" width="134" loading="lazy">',d+="</a>",d+="</div>",d+='<div class="r">',d+="<h2>",d+='<a href="index.html?'+t[a]+'">'+s+"</a>",d+="</h2>",d+="<p>"+c,d+='<a href="index.html?'+t[a]+'"> Read More</a>',d+="</p>",d+='<p class="details"><a href="index.html?'+t[a]+'">'+n+"</a></p>",d+="</div>",d+="</div>",document.getElementById("displayArticles").innerHTML+=d}}}};a.retrievePageData(),e.retrieveArticleData();